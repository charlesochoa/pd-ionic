{"version":3,"sources":["./src/app/modules/login/login.page.scss","./src/app/modules/login/login.module.ts","./src/app/modules/login/login.page.html","./src/app/modules/login/login.page.ts"],"names":[],"mappings":"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","file":"modules-login-login-module-es2015.js","sourcesContent":["export default \"ion-header ion-toolbar {\\n  --background: var(--ion-color-danger);\\n}\\n\\n.my-custom-class {\\n  --white-space: 70px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxsb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUU7RUFDRSxxQ0FBQTtBQURKOztBQU1BO0VBQ0UsbUJBQUE7QUFIRiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW9uLWhlYWRlciB7XHJcbiAgaW9uLXRvb2xiYXIge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4ubXktY3VzdG9tLWNsYXNzIHtcclxuICAtLXdoaXRlLXNwYWNlOiA3MHB4O1xyXG59XHJcbiJdfQ== */\";","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { LoginPage } from './login.page';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: LoginPage }])\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"<ion-header background=\\\"danger\\\">\\n  <ion-toolbar>\\n      <ion-title slot=\\\"start\\\">\\n        <img\\n            src=\\\"../../../assets/images/icon.jpg\\\" height=\\\"40px\\\"\\n          />\\n      </ion-title>\\n    <ion-title slot=\\\"start\\\">\\n        <img\\n            src=\\\"../../../assets/images/letters.png\\\" height=\\\"20px\\\"\\n          />\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content >\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"register()\\\">\\n    <ion-grid>\\n      <ion-row justify-content-center>\\n        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <div text-center>\\n            <h3>El siguiente correo electrónico tendrá uso exclusivo para el estudio. Una vez terminado el mismo, se eliminarán de la base de datos.</h3>\\n          </div>\\n          <div padding>\\n            <ion-item>\\n              <ion-input name=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"your@email.com\\\" [(ngModel)]=\\\"email\\\" required></ion-input>\\n            </ion-item>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n<ion-footer>\\n  <div padding>\\n    <ion-button  size=\\\"large\\\" (click)=\\\"register()\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\" >¡Empezar!</ion-button>\\n  </div>\\n</ion-footer>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, ToastController } from '@ionic/angular';\nimport { AuthService } from './auth.service';\nimport { CheckoutService } from '../checkout/checkout.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: 'login.page.html',\n  styleUrls: ['login.page.scss']\n})\nexport class LoginPage {\n  email: string = '';\n  url: string = 'https://docs.google.com/forms/d/e/1FAIpQLSfQkUY7lr72heFFt0wzwUWyAHVPYdwRDwBuZhu-K3B1JEKgJA/viewform'\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n    private alertController: AlertController,\n    private checkoutService: CheckoutService,\n    public toastController: ToastController) {\n  }\n\n  async ionViewWillEnter() {\n    const t = this.authService.getTransaction();\n    this.email = '';\n    if (t) {\n\n      const alert = await this.alertController.create({\n        cssClass: 'my-custom-class',\n        header: 'Muchas gracias!',\n        message: 'Puedes acceder a la encuesta a través de: <a>https://docs.google.com/forms/d/e/1FAIpQLSfQkUY7lr72heFFt0wzwUWyAHVPYdwRDwBuZhu-K3B1JEKgJA/viewform</a>. <br><br>También hemos enviado el link a tu correo.',\n        buttons: [\n          {\n            text: 'Vamos a responderla!',\n            handler: () => {\n              window.open(this.url, \"_blank\");\n            }\n          }\n        ]\n      });\n  \n      alert.present();\n    }\n  }\n\n\n\n  async register() {\n\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Bienvenido!',\n      message: '<strong>1-</strong>Realiza una compra para ti y tus amigos <br><strong>2-</strong>No tienes limites de tiempo, ni dinero <br><strong>3-</strong>La prueba finaliza al ir al carrito y finalizar el pedido <br><strong>4-</strong>No requiere datos personales ni de pago es un prototipo<br><strong>5-</strong>Finalmente, contesta nuestra encuesta de satisfacción.',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Vamos!',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.authService.login(this.email).subscribe(async (u: any) => {\n              this.checkoutService.newCart(u.pk).subscribe(c => {\n                u.cartPk = c.pk\n                this.authService.setLocalUser(u).then( async r => {\n                  this.router.navigate(['tabs','menu']);\n                })\n              });\n            }, async err => {\n              if( err && err.error && err.error.user && err.error.user.username ) {\n                const toast = await this.toastController.create({\n                  message: 'Parece que has realizado ya esta prueba! Si aún no has hecho la encuesta de invitamos a revisar el correo que te hemos enviado para completarla.',\n                  duration: 6500,\n                  color: 'success',\n                  position: 'middle'\n                });\n                toast.present();\n              }\n            });\n          }\n        }\n      ]\n    });\n\n    alert.present();\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}